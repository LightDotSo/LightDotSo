[workspace]
resolver = "2"

members = [
  "bin",
  "apps/desktop/src-tauri",
  "crates/core",
  "crates/keychain",
  "tools/embedded-scopelint",
  "tools/embedded-uniffi-bindgen"
]

default-members = ["bin"]

# Ref: https://www.uffizzi.com/blog/optimizing-rust-builds-for-faster-github-actions-pipelines

[profile.dev]
opt-level = 0
codegen-units = 16

# https://stackoverflow.com/a/54842093
[profile.release]
opt-level = 'z'
lto = true
codegen-units = 1
panic = 'abort'
strip = true

[workspace.dependencies]
anyhow = "1.0.71"
axum = "0.6.18"
tokio = { version = "1", features = ["full"] }
uniffi = "0.23.0"
